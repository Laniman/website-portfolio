"use strict";console.log("'Allo 'Allo!");var validation=function(){var t=function(){n()},n=function(){$("form").on("keydown",".has-error",i),$("form").on("reset",e)},i=function(){$(this).removeClass("has-error")},e=function(){var t=$(this);t.find("input, .textarea").trigger("hideTooltip"),t.find(".has-error").removeClass("has-error")},o=function(t,n){n="right"===n?{my:"left center",at:"right center"}:{my:"right center",at:"left center",adjust:{method:"shift none"}},t.qtip({content:{text:function(){return $(this).attr("qtip-content")}},show:{event:"show"},hide:{event:"keydown hideTooltip"},position:n,style:{classes:"qtip-mystyle qtip-rounded",tip:{height:10,width:16}}}).trigger("show")},r=function(t){console.log("validateForm: Валидация....");var n=t.find("input, textarea").not('input[type="file"], input[type="hidden"]'),i=!0;return $.each(n,function(t,n){var e=$(n),n=e.val(),r=e.attr("qtip-position");0===n.length&&(e.addClass("has-error"),o(e,r),i=!1)}),i};return{init:t,validateForm:r}}();validation.init();var contactMe=function(){var t=function(){n()},n=function(){$("#contact-me").on("submit",i)},i=function(t){console.log("_submitForm: Отправка формы"),t.preventDefault();var n=$(this),i="contact-me.php";e(n,i)},e=function(t,n){return console.log("_ajaxForm: Ajax запрос с проверкой"),validation.validateForm(t)?void 0:!1};return{init:t}}();contactMe.init();var loginForm=function(){var t=function(){n()},n=function(){$("#login-form").on("submit",i)},i=function(t){console.log("_submitForm: Отправка формы"),t.preventDefault();var n=$(this),i="";e(n,i)},e=function(t,n){return console.log("_ajaxForm: Ajax запрос с проверкой"),validation.validateForm(t)?void 0:!1};return{init:t}}();loginForm.init();var myModule=function(){var t=function(){n()},n=function(){$(".thumbnail__site-preview_plate-add-site").on("click",i),$("#add-new-project").on("submit",e)},i=function(t){t.preventDefault();var n=$("#new-project-popup"),i=n.find(".form");n.bPopup({speed:650,transition:"slideDown",onClose:function(){i.find(".server-mes").text("").hide(),i.trigger("reset")}})},e=function(t){t.preventDefault();var n=$(this),i="add-project.php",e=o(n,i);e&&e.done(function(t){var i=n.find(".success-mes"),e=n.find(".error-mes");"ok"===t.status?(e.hide(),i.text(t.text).show()):(i.hide(),e.text(t.text).show())})},o=function(t,n){if(!validation.validateForm(t))return!1;var i=t.serialize(),e=$.ajax({url:n,type:"POST",dataType:"json",data:i}).fail(function(n){console.log("Проблемы в PHP"),t.find(".error-mes").text("На сервере произошла ошибка").show()});return e};return{init:t}}();myModule.init();var roadFromInputFile=function(){var t=function(){n()},n=function(){$("#fileupload").change(i)},i=function(){console.log($(this));var t=$(this).val().replace(/.*\\/,"");console.log(t),$("#fileurl").val(t)};return{init:t}}();roadFromInputFile.init();var adaptive=function(){var t=function(){n(),v()},n=function(){$(r).on("click",h),$(window).resize(v)},i=480,e=768,o=$(".navigation"),r=($(".mobile-nav"),$(".burger")),a=$(".sidebar"),s=$(".contacts"),c=$(".contacts__body"),l=($(".main .container"),$(".main")),u=$(".header__socials"),d=$(".socials"),f=$(".footer"),v=function(){window.innerWidth<=e&&(o.insertAfter(u),o.hide()),window.innerWidth>e&&(a.prepend(o),o.show()),window.innerWidth<=e&&c.insertAfter(l),window.innerWidth>e&&s.append(c),window.innerWidth<=i&&d.insertBefore(f),window.innerWidth>i&&u.append(d)},h=function(t){$(this).toggleClass("active"),o.toggle()};return{init:t}}();adaptive.init();